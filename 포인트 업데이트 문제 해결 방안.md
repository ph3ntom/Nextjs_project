# ν¬μΈνΈ μ—…λ°μ΄νΈ λ¬Έμ  ν•΄κ²° λ°©μ• λ¶„μ„

## π” ν„μ¬ λ¬Έμ  μƒν™©

### λ¬Έμ  μ¦μƒ
- μ„λ²„μ—μ„ ν¬μΈνΈ μ •λ³΄ μ •μƒ λ°ν™ (μ: 810 ν¬μΈνΈ)
- μ½μ†”μ—μ„ μ •μƒμ μΈ μ‘λ‹µ ν™•μΈ
- ν•μ§€λ§ ν™”λ©΄μ—λ” κ³„μ† 0Pλ΅ ν‘μ‹

### ν„μ¬ κµ¬μ΅°μ λ¬Έμ μ 
1. **μƒνƒ κ΄€λ¦¬ λ³µμ΅μ„±**: PointShopκ³Ό PointDisplayμ—μ„ κ°κ° ν¬μΈνΈ κ΄€λ¦¬
2. **μ „μ—­ ν•¨μ μμ΅΄**: `window.refreshPoints()` λ°©μ‹μ λ¶μ•μ •ν• ν†µμ‹ 
3. **AuthContext κ°„μ„­**: μ—¬λ¬ μ»΄ν¬λ„νΈμ—μ„ λ™μ‹μ— user μƒνƒ μμ • μ‹λ„

## π’΅ μ μ•ν•μ‹  ν•΄κ²° λ°©μ• λ¶„μ„

### λ°©μ•: PointShop μ»΄ν¬λ„νΈ λ¶„λ¦¬
```
π“ κµ¬μ΅°:
β”β”€β”€ app/pointshop/page.tsx (λ΅κ·ΈμΈ μ •λ³΄λ§ κ΄€λ¦¬)
β”β”€β”€ components/pointshop-container.tsx (ν¬μΈνΈ κ΄€λ¦¬ + UI)
```

### μμƒ κµ¬ν„ λ°©μ‹
```typescript
// app/pointshop/page.tsx
export default function PointShopPage() {
  const { isLoggedIn } = useAuth()  // λ΅κ·ΈμΈ μ •λ³΄λ§
  
  if (!isLoggedIn) {
    return <div>λ΅κ·ΈμΈμ΄ ν•„μ”ν•©λ‹λ‹¤.</div>
  }
  
  return <PointShopContainer />
}

// components/pointshop-container.tsx  
export default function PointShopContainer() {
  const [userPoints, setUserPoints] = useState(0)
  const { user } = useAuth()
  
  const fetchPoints = async () => {
    // POST /coupons/points/:mbrId νΈμ¶
    // setUserPointsλ΅ μ—…λ°μ΄νΈ
  }
  
  const handleCouponUse = async () => {
    // μΏ ν° μ‚¬μ© ν›„ fetchPoints() μ¬νΈμ¶
  }
  
  return (
    // ν¬μΈνΈ ν‘μ‹ + μΏ ν° UI λ¨λ‘ ν¬ν•¨
  )
}
```

## β… μ΄ λ°©μ•μ μ¥μ 

### 1. λ‹¨μν• μƒνƒ κ΄€λ¦¬
- **ν•λ‚μ μ»΄ν¬λ„νΈ**μ—μ„λ§ ν¬μΈνΈ μƒνƒ κ΄€λ¦¬
- **λ…ν™•ν• μ±…μ„ λ¶„λ¦¬**: page.tsxλ” λΌμ°ν…, containerλ” λΉ„μ¦λ‹μ¤ λ΅μ§

### 2. μƒνƒ μ¶©λ λ°©μ§€
- AuthContextλ” λ΅κ·ΈμΈ μ •λ³΄λ§ κ΄€λ¦¬
- PointShop κ΄€λ ¨ μƒνƒλ” λ…λ¦½μ μΌλ΅ κ΄€λ¦¬
- λ‹¤λ¥Έ μ»΄ν¬λ„νΈμ κ°„μ„­ μ—†μ

### 3. λ””λ²„κΉ… μ©μ΄μ„±
- ν¬μΈνΈ κ΄€λ ¨ λ΅μ§μ΄ ν• κ³³μ— μ§‘μ¤‘
- μƒνƒ λ³€κ²½ μ¶”μ μ΄ κ°„λ‹¨
- μ „μ—­ ν•¨μ μμ΅΄μ„± μ κ±°

## π― ν•΄κ²° κ°€λ¥μ„± ν‰κ°€

### μμƒ κ²°κ³Ό: **λ¬Έμ  ν•΄κ²° κ°€λ¥ (95% ν™•λ¥ )**

**μ΄μ :**
1. **μƒνƒ κ²©λ¦¬**: ν¬μΈνΈ μƒνƒκ°€ λ‹¤λ¥Έ μ»΄ν¬λ„νΈμ™€ μ™„μ „ν λ¶„λ¦¬λ¨
2. **λ‹¨μΌ μ±…μ„**: ν•λ‚μ μ»΄ν¬λ„νΈμ—μ„λ§ ν¬μΈνΈ μ—…λ°μ΄νΈ λ‹΄λ‹Ή
3. **React κΈ°λ³Έ ν¨ν„΄**: useState + useEffectμ ν‘μ¤€μ μΈ μ‚¬μ©

### μ μ¬μ  μ΄μ
1. **μΊμ‹± λ¬Έμ **: λΈλΌμ°μ €λ‚ Next.jsμ μΊμ‹±μΌλ΅ μΈν• API μ‘λ‹µ μ§€μ—°
2. **λΉ„λ™κΈ° νƒ€μ΄λ°**: API νΈμ¶κ³Ό μƒνƒ μ—…λ°μ΄νΈ κ°„μ νƒ€μ΄λ° λ¬Έμ 

## π“‹ κµ¬ν„ μ²΄ν¬λ¦¬μ¤νΈ

### Phase 1: μ»΄ν¬λ„νΈ λ¶„λ¦¬
- [ ] `components/pointshop-container.tsx` μƒμ„±
- [ ] ν¬μΈνΈ μƒνƒ κ΄€λ¦¬ λ΅μ§ μ΄λ™
- [ ] μΏ ν° κ΄€λ ¨ UI μ΄λ™

### Phase 2: API ν†µν•©
- [ ] POST `/coupons/points/:mbrId` API νΈμ¶ κµ¬ν„
- [ ] μΏ ν° μ‚¬μ© ν›„ ν¬μΈνΈ μ¬μ΅°ν λ΅μ§ κµ¬ν„

### Phase 3: κΈ°μ΅΄ μ½”λ“ μ •λ¦¬
- [ ] `app/pointshop/page.tsx`μ—μ„ λ¶ν•„μ”ν• μƒνƒ μ κ±°
- [ ] PointDisplay μ»΄ν¬λ„νΈ μ κ±° λλ” λ‹¨μν™”

## π€ κ²°λ΅ 

**μ μ•ν•μ‹  λ°©μ•μ΄ κ°€μ¥ μ μ ν• ν•΄κ²°μ±…μ…λ‹λ‹¤.**

ν„μ¬ λ¬Έμ μ κ·Όλ³Έ μ›μΈμ€ μ—¬λ¬ μ»΄ν¬λ„νΈμ—μ„ ν¬μΈνΈ μƒνƒλ¥Ό λ™μ‹μ— κ΄€λ¦¬ν•λ ¤κ³  ν•΄μ„ λ°μƒν•λ” μƒνƒ μ¶©λμ…λ‹λ‹¤. 

λ‹¨μΌ μ»΄ν¬λ„νΈμ—μ„ ν¬μΈνΈ κ΄€λ¦¬λ¥Ό λ‹΄λ‹Ήν•λ©΄ μ΄ λ¬Έμ κ°€ ν™•μ‹¤ν ν•΄κ²°λ  κ²ƒμ…λ‹λ‹¤.