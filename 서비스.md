# DevForum 서비스 분석

## 서비스 개요
DevForum은 개발자 커뮤니티를 위한 Q&A 플랫폼으로, Next.js 기반의 웹 애플리케이션입니다.

## 시스템 아키텍처

```mermaid
graph TB
    subgraph "Frontend (Next.js)"
        A[홈페이지] --> B[질문 목록]
        A --> C[로그인/회원가입]
        A --> D[질문 작성]
        B --> E[질문 상세보기]
        E --> F[답변 작성]
    end
    
    subgraph "Backend API (localhost:3001)"
        G[인증 API]
        H[질문 관리 API]
        I[답변 관리 API]
        J[사용자 확인 API]
    end
    
    subgraph "상태 관리"
        K[AuthContext]
        L[LocalStorage]
    end
    
    C --> G
    D --> H
    F --> I
    C --> J
    
    K --> L
    G --> K
    
    style A fill:#e1f5fe
    style G fill:#fff3e0
    style K fill:#f3e5f5
```

## 주요 기능

### 1. 사용자 인증
```mermaid
sequenceDiagram
    participant U as 사용자
    participant F as Frontend
    participant A as AuthContext
    participant B as Backend API
    participant L as LocalStorage
    
    U->>F: 로그인 시도
    F->>B: POST /login/loginProcess
    B-->>F: 인증 결과 (userId, sessionId)
    F->>A: login() 호출
    A->>L: 사용자 정보 저장
    A-->>F: 로그인 상태 업데이트
    F-->>U: 메인 페이지로 리디렉션
```

### 2. 질문 관리
```mermaid
sequenceDiagram
    participant U as 사용자
    participant F as Frontend
    participant B as Backend API
    
    U->>F: 질문 작성 페이지 접근
    F-->>U: 질문 작성 폼 표시
    U->>F: 질문 제출
    F->>B: POST /questions (예상)
    B-->>F: 저장 완료
    F-->>U: 성공 메시지
    
    U->>F: 질문 목록 조회
    F->>B: GET /questions
    B-->>F: 질문 목록 데이터
    F-->>U: 질문 목록 표시
```

### 3. 답변 관리
```mermaid
sequenceDiagram
    participant U as 사용자
    participant F as Frontend
    participant B as Backend API
    
    U->>F: 질문 상세 페이지 접근
    F->>B: GET /questions/{id}/answers
    B-->>F: 답변 목록 데이터
    F-->>U: 질문과 답변 표시
    
    U->>F: 답변 작성
    F->>B: POST /questions/{id}/answers (예상)
    B-->>F: 저장 완료
    F-->>U: 답변 목록 업데이트
```

## 컴포넌트 구조

```mermaid
graph TD
    subgraph "Layout Components"
        A[RootLayout] --> B[Header]
        A --> C[Sidebar]
        A --> D[Footer]
        A --> E[ThemeProvider]
        A --> F[AuthProvider]
    end
    
    subgraph "Page Components"
        G[HomePage] --> H[QuestionList]
        G --> I[RightSidebar]
        J[LoginPage]
        K[AskQuestionPage]
        L[QuestionDetailPage]
    end
    
    subgraph "UI Components"
        M[Button]
        N[Input]
        O[Card]
        P[Badge]
        Q[Tabs]
    end
    
    subgraph "Custom Components"
        R[UserInfo]
        S[VotingControls]
        T[AnswerForm]
        U[CodeBlock]
    end
    
    H --> O
    H --> P
    H --> R
    K --> N
    K --> Q
    L --> S
    L --> T
    L --> U
    
    style A fill:#e3f2fd
    style G fill:#e8f5e8
    style M fill:#fff3e0
    style R fill:#f3e5f5
```

## 데이터 모델

```mermaid
erDiagram
    User {
        string name
        string image
        string initials
        number reputation
        object badges
    }
    
    Question {
        number id
        string title
        string description
        number votes
        number answers
        number views
        array tags
        string askedTime
        string body
        boolean accepted
    }
    
    Answer {
        number id
        string content
        number votes
        boolean accepted
        number question_id
        number user_id
        string createdAt
        string updatedAt
        string answeredTime
    }
    
    Tag {
        string name
        string description
        number questionsCount
        string color
    }
    
    User ||--o{ Question : "작성"
    User ||--o{ Answer : "작성"
    Question ||--o{ Answer : "포함"
    Question }|--|| Tag : "태그됨"
```

## API 엔드포인트

### 현재 구현된 API
- `POST /api/check-id` - 사용자 ID 중복 확인
- `POST /login/loginProcess` - 사용자 로그인
- `GET /questions` - 질문 목록 조회
- `GET /questions/{id}/answers` - 특정 질문의 답변 조회

### 예상 API (미구현)
- `POST /register` - 회원가입
- `POST /questions` - 질문 작성
- `POST /questions/{id}/answers` - 답변 작성
- `PUT/DELETE /questions/{id}` - 질문 수정/삭제
- `PUT/DELETE /answers/{id}` - 답변 수정/삭제

## 기술 스택

```mermaid
graph LR
    subgraph "Frontend"
        A[Next.js 15] --> B[React 19]
        A --> C[TypeScript]
        A --> D[Tailwind CSS]
        A --> E[Radix UI]
    end
    
    subgraph "상태 관리"
        F[React Context]
        G[LocalStorage]
    end
    
    subgraph "Tools & Libraries"
        H[Lucide Icons]
        I[React Hook Form]
        J[Zod Validation]
        K[Next Themes]
    end
    
    style A fill:#61dafb
    style C fill:#3178c6
    style D fill:#06b6d4
```

## 보안 고려사항

### 현재 구현
- 클라이언트 사이드 인증 상태 관리
- LocalStorage를 통한 세션 관리

### 개선 필요사항
- JWT 토큰 기반 인증 구현
- HTTPS 통신 강화
- XSS/CSRF 보호
- 입력 데이터 검증 강화

## 향후 개선 방향

1. **백엔드 API 완성**
   - 질문/답변 CRUD 완전 구현
   - 사용자 관리 시스템 구축

2. **실시간 기능**
   - WebSocket을 통한 실시간 답변 알림
   - 실시간 투표 결과 반영

3. **검색 기능**
   - 질문/답변 전문 검색
   - 태그 기반 필터링

4. **사용자 경험 개선**
   - 무한 스크롤
   - 오프라인 지원
   - PWA 구현